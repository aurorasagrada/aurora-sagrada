var E=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports);var M=E((P,N)=>{const x={CONSTANTES:{GRAUS_POR_SIGNO:30,SIGNOS_ZODIACAIS:12,CASAS_ASTROLOGICAS:12,SEGUNDOS_POR_DIA:86400,DIAS_POR_ANO:365.25,EPOCH_J2000:2451545,OBLIQUIDADE_ECLIPTICA:23.4392911,NUTACAO_LONGITUDE:0,NUTACAO_OBLIQUIDADE:0,ELEMENTOS_PLANETARIOS:{SOL:{longitude_media:280.46646,anomalia_media:357.52911,excentricidade:.01671123,longitude_perihelio:282.93735,taxa_longitude:.98564736,taxa_anomalia:.98560028,taxa_excentricidade:-4392e-8,taxa_perihelio:4708e-8},LUA:{longitude_media:218.3164477,anomalia_media:134.9633964,excentricidade:.0549,longitude_perihelio:83.3532465,taxa_longitude:13.17639648,taxa_anomalia:13.06499295,taxa_excentricidade:0,taxa_perihelio:.11140353,argumento_latitude:93.272095,taxa_argumento:-.05295376},MERCURIO:{longitude_media:252.2503235,anomalia_media:174.79252722,excentricidade:.20563593,longitude_perihelio:77.45779628,taxa_longitude:4.09233445,taxa_anomalia:4.09234,taxa_excentricidade:1906e-8,taxa_perihelio:.16047689,inclinacao:7.00497902,longitude_no_ascendente:48.33076593,taxa_inclinacao:-.00594749,taxa_no_ascendente:-.12534081},VENUS:{longitude_media:181.9790995,anomalia_media:50.11570157,excentricidade:.00677672,longitude_perihelio:131.60246718,taxa_longitude:1.60213034,taxa_anomalia:1.60213,taxa_excentricidade:-4107e-8,taxa_perihelio:.00268329,inclinacao:3.39467605,longitude_no_ascendente:76.67984255,taxa_inclinacao:-7889e-7,taxa_no_ascendente:-.27769418},MARTE:{longitude_media:355.43299958,anomalia_media:19.39019754,excentricidade:.09340062,longitude_perihelio:336.06023395,taxa_longitude:.5240384,taxa_anomalia:.52402068,taxa_excentricidade:7882e-8,taxa_perihelio:.44441088,inclinacao:1.84969142,longitude_no_ascendente:49.55953891,taxa_inclinacao:-.00813131,taxa_no_ascendente:-.29257343},JUPITER:{longitude_media:34.39644051,anomalia_media:20.0259505,excentricidade:.04838624,longitude_perihelio:14.72847983,taxa_longitude:.08308529,taxa_anomalia:.0830848,taxa_excentricidade:-13253e-8,taxa_perihelio:.21252668,inclinacao:1.30439695,longitude_no_ascendente:100.47390909,taxa_inclinacao:-.00183714,taxa_no_ascendente:.20469106},SATURNO:{longitude_media:49.95424423,anomalia_media:317.02074804,excentricidade:.05386179,longitude_perihelio:92.59887831,taxa_longitude:.03344414,taxa_anomalia:.03344442,taxa_excentricidade:-50991e-8,taxa_perihelio:.41897216,inclinacao:2.48599187,longitude_no_ascendente:113.66242448,taxa_inclinacao:.00193609,taxa_no_ascendente:-.28867794},URANO:{longitude_media:313.23810451,anomalia_media:142.2382822,excentricidade:.04725744,longitude_perihelio:170.9542763,taxa_longitude:.01176904,taxa_anomalia:.01176895,taxa_excentricidade:-4397e-8,taxa_perihelio:.40805281,inclinacao:.77263783,longitude_no_ascendente:74.01692503,taxa_inclinacao:-.00242939,taxa_no_ascendente:.04240589},NETUNO:{longitude_media:304.34866548,anomalia_media:256.22834043,excentricidade:.00859048,longitude_perihelio:44.96476227,taxa_longitude:.00598103,taxa_anomalia:.00598103,taxa_excentricidade:5105e-8,taxa_perihelio:.32241464,inclinacao:1.77004347,longitude_no_ascendente:131.78422574,taxa_inclinacao:35372e-8,taxa_no_ascendente:-.00508664},PLUTAO:{longitude_media:238.92903833,anomalia_media:14.86205442,excentricidade:.2488273,longitude_perihelio:224.06891629,taxa_longitude:.00396103,taxa_anomalia:.00396097,taxa_excentricidade:517e-7,taxa_perihelio:.04062942,inclinacao:17.14001206,longitude_no_ascendente:110.30393684,taxa_inclinacao:4818e-8,taxa_no_ascendente:-.01183482}},NODOS_LUNARES:{longitude_no_norte:125.0445479,taxa_longitude_no:-.05295376,longitude_no_sul:305.0445479,taxa_longitude_no_sul:-.05295376},LILITH:{longitude_media:83.3532465,taxa_longitude:.11140353}},SIGNOS:["Áries","Touro","Gêmeos","Câncer","Leão","Virgem","Libra","Escorpião","Sagitário","Capricórnio","Aquário","Peixes"],SIMBOLOS_PLANETAS:{Sol:"☉",Lua:"☽",Mercúrio:"☿",Vênus:"♀",Marte:"♂",Júpiter:"♃",Saturno:"♄",Urano:"♅",Netuno:"♆",Plutão:"♇","Nodo Norte":"☊","Nodo Sul":"☋",Lilith:"⚸",Quíron:"⚷"},SIMBOLOS_SIGNOS:{Áries:"♈",Touro:"♉",Gêmeos:"♊",Câncer:"♋",Leão:"♌",Virgem:"♍",Libra:"♎",Escorpião:"♏",Sagitário:"♐",Capricórnio:"♑",Aquário:"♒",Peixes:"♓"},calcularDiaJuliano:function(a){const i=a.getFullYear(),t=a.getMonth()+1,o=a.getDate(),e=a.getHours(),n=a.getMinutes(),l=a.getSeconds();let r=Math.floor((14-t)/12),c=i+4800-r,s=t+12*r-3,u=o+Math.floor((153*s+2)/5)+365*c+Math.floor(c/4)-Math.floor(c/100)+Math.floor(c/400)-32045;return u+=(e-12)/24+n/1440+l/86400,u},calcularSeculosJ2000:function(a){return(a-this.CONSTANTES.EPOCH_J2000)/36525},normalizarAngulo:function(a){return a=a%360,a<0&&(a+=360),a},grausParaRadianos:function(a){return a*Math.PI/180},radianosParaGraus:function(a){return a*180/Math.PI},calcularPosicaoSol:function(a){const i=this.calcularDiaJuliano(a),t=this.calcularSeculosJ2000(i),o=this.CONSTANTES.ELEMENTOS_PLANETARIOS.SOL;let e=o.longitude_media+o.taxa_longitude*(i-this.CONSTANTES.EPOCH_J2000);e=this.normalizarAngulo(e);let n=o.anomalia_media+o.taxa_anomalia*(i-this.CONSTANTES.EPOCH_J2000);n=this.normalizarAngulo(n);const l=(1.914602-.004817*t-14e-6*t*t)*Math.sin(this.grausParaRadianos(n))+(.019993-101e-6*t)*Math.sin(this.grausParaRadianos(2*n))+289e-6*Math.sin(this.grausParaRadianos(3*n)),r=this.normalizarAngulo(e+l),c=this.normalizarAngulo(n+l),s=1.000001018*(1-o.excentricidade*o.excentricidade)/(1+o.excentricidade*Math.cos(this.grausParaRadianos(c)));return{longitude:r,latitude:0,distancia:s,signo:this.obterSigno(r),grauNoSigno:this.obterGrauNoSigno(r),simbolo:this.SIMBOLOS_PLANETAS.Sol}},calcularPosicaoLua:function(a){const i=this.calcularDiaJuliano(a);this.calcularSeculosJ2000(i);const t=this.CONSTANTES.ELEMENTOS_PLANETARIOS.LUA;let o=t.longitude_media+t.taxa_longitude*(i-this.CONSTANTES.EPOCH_J2000);o=this.normalizarAngulo(o);let e=t.anomalia_media+t.taxa_anomalia*(i-this.CONSTANTES.EPOCH_J2000);e=this.normalizarAngulo(e);const n=this.calcularPosicaoSol(a),l=this.grausParaRadianos(n.longitude-t.longitude_perihelio);let r=t.argumento_latitude+t.taxa_argumento*(i-this.CONSTANTES.EPOCH_J2000);r=this.normalizarAngulo(r);const c=this.normalizarAngulo(o-n.longitude),s=this.grausParaRadianos(e),u=this.grausParaRadianos(c),d=this.grausParaRadianos(r),g=6.288774*Math.sin(s)+1.274027*Math.sin(2*u-s)+.658314*Math.sin(2*u)+.213618*Math.sin(2*s)-.185116*Math.sin(l)-.114332*Math.sin(2*d)+.058793*Math.sin(2*u-2*s)+.057066*Math.sin(2*u-l-s)+.053322*Math.sin(2*u+s)+.045758*Math.sin(2*u-l),S=5.128122*Math.sin(d)+.280602*Math.sin(s+d)+.277693*Math.sin(s-d)+.173237*Math.sin(2*u-d)+.055413*Math.sin(2*u+d-s)+.046271*Math.sin(2*u-d-s)+.032573*Math.sin(2*u+d)+.017198*Math.sin(2*s+d),h=this.normalizarAngulo(o+g),_=S,A=385000.56+(-20905.355*Math.cos(s)-3699.111*Math.cos(2*u-s)-2955.968*Math.cos(2*u)-569.925*Math.cos(2*s));return{longitude:h,latitude:_,distancia:A,signo:this.obterSigno(h),grauNoSigno:this.obterGrauNoSigno(h),simbolo:this.SIMBOLOS_PLANETAS.Lua}},calcularPosicaoPlaneta:function(a,i){const t=this.calcularDiaJuliano(i),e={Mercúrio:"MERCURIO",Vênus:"VENUS",Marte:"MARTE",Júpiter:"JUPITER",Saturno:"SATURNO",Urano:"URANO",Netuno:"NETUNO",Plutão:"PLUTAO"}[a]||a.toUpperCase(),n=this.CONSTANTES.ELEMENTOS_PLANETARIOS[e];if(!n)throw new Error(`Planeta ${a} não encontrado. Planetas disponíveis: ${Object.keys(this.CONSTANTES.ELEMENTOS_PLANETARIOS).join(", ")}`);let l=n.longitude_media+n.taxa_longitude*(t-this.CONSTANTES.EPOCH_J2000);l=this.normalizarAngulo(l);let r=n.anomalia_media+n.taxa_anomalia*(t-this.CONSTANTES.EPOCH_J2000);r=this.normalizarAngulo(r);const c=n.excentricidade+n.taxa_excentricidade*(t-this.CONSTANTES.EPOCH_J2000);let s=this.grausParaRadianos(r),u=1,d=0;for(;Math.abs(u)>1e-6&&d<100;){const _=s+(this.grausParaRadianos(r)-s+c*Math.sin(s))/(1-c*Math.cos(s));u=_-s,s=_,d++}const g=2*Math.atan2(Math.sqrt(1+c)*Math.sin(s/2),Math.sqrt(1-c)*Math.cos(s/2)),S=(1-c*c)/(1+c*Math.cos(g)),h=this.normalizarAngulo(this.radianosParaGraus(g)+n.longitude_perihelio);return{longitude:h,latitude:0,distancia:S,signo:this.obterSigno(h),grauNoSigno:this.obterGrauNoSigno(h),simbolo:this.SIMBOLOS_PLANETAS[a]||"●"}},obterSigno:function(a){const i=Math.floor(a/this.CONSTANTES.GRAUS_POR_SIGNO);return this.SIGNOS[i]},obterGrauNoSigno:function(a){return a%this.CONSTANTES.GRAUS_POR_SIGNO},calcularTodasPosicoes:function(a){const i={};return i.Sol=this.calcularPosicaoSol(a),i.Lua=this.calcularPosicaoLua(a),["Mercúrio","Vênus","Marte","Júpiter","Saturno","Urano","Netuno","Plutão"].forEach(o=>{try{i[o]=this.calcularPosicaoPlaneta(o,a)}catch(e){console.warn(`Erro ao calcular ${o}:`,e),i[o]={longitude:0,latitude:0,distancia:0,signo:"Áries",grauNoSigno:0,simbolo:"●"}}}),i["Nodo Norte"]=this.calcularNodoNorte(a),i["Nodo Sul"]=this.calcularNodoSul(a),i.Lilith=this.calcularLilith(a),i.Quíron=this.calcularQuiron(a),i},calcularNodoNorte:function(a){const i=this.calcularDiaJuliano(a),t=this.CONSTANTES.NODOS_LUNARES;let o=t.longitude_no_norte+t.taxa_longitude_no*(i-this.CONSTANTES.EPOCH_J2000);return o=this.normalizarAngulo(o),{longitude:o,latitude:0,distancia:0,signo:this.obterSigno(o),grauNoSigno:this.obterGrauNoSigno(o),simbolo:this.SIMBOLOS_PLANETAS["Nodo Norte"]}},calcularNodoSul:function(a){const i=this.calcularNodoNorte(a),t=this.normalizarAngulo(i.longitude+180);return{longitude:t,latitude:0,distancia:0,signo:this.obterSigno(t),grauNoSigno:this.obterGrauNoSigno(t),simbolo:this.SIMBOLOS_PLANETAS["Nodo Sul"]}},calcularLilith:function(a){const i=this.calcularDiaJuliano(a),t=this.CONSTANTES.LILITH;let o=t.longitude_media+t.taxa_longitude*(i-this.CONSTANTES.EPOCH_J2000);return o=this.normalizarAngulo(o),{longitude:o,latitude:0,distancia:0,signo:this.obterSigno(o),grauNoSigno:this.obterGrauNoSigno(o),simbolo:this.SIMBOLOS_PLANETAS.Lilith}},calcularQuiron:function(a){const i=this.calcularDiaJuliano(a);let o=207.2+1.478*this.calcularSeculosJ2000(i);return o=this.normalizarAngulo(o),{longitude:o,latitude:0,distancia:0,signo:this.obterSigno(o),grauNoSigno:this.obterGrauNoSigno(o),simbolo:this.SIMBOLOS_PLANETAS.Quíron}},ASPECTOS:{Conjunção:{angulo:0,orbe:8,natureza:"neutro"},Sextil:{angulo:60,orbe:6,natureza:"harmonioso"},Quadratura:{angulo:90,orbe:8,natureza:"tenso"},Trígono:{angulo:120,orbe:8,natureza:"harmonioso"},Oposição:{angulo:180,orbe:8,natureza:"tenso"},Quincúncio:{angulo:150,orbe:3,natureza:"menor"},Semisextil:{angulo:30,orbe:2,natureza:"menor"},Semiquadratura:{angulo:45,orbe:2,natureza:"menor"},Sesquiquadratura:{angulo:135,orbe:2,natureza:"menor"}},calcularAspectos:function(a){const i=[],t=Object.keys(a);for(let o=0;o<t.length;o++)for(let e=o+1;e<t.length;e++){const n=t[o],l=t[e],r=a[n],c=a[l];let s=Math.abs(r.longitude-c.longitude);s>180&&(s=360-s),Object.entries(this.ASPECTOS).forEach(([u,d])=>{const g=Math.abs(s-d.angulo);g<=d.orbe&&i.push({planeta1:n,planeta2:l,aspecto:u,angulo:d.angulo,diferenca:s,orbe:g,natureza:d.natureza,exato:g<1,aplicativo:this.determinarAplicativo(r,c,d.angulo)})})}return i.sort((o,e)=>o.orbe-e.orbe)},determinarAplicativo:function(a,i,t){return Math.random()>.5},ORDEM_PLANETAS_HORAS:["Saturno","Júpiter","Marte","Sol","Vênus","Mercúrio","Lua"],calcularHorasPlanetarias:function(a,i,t){const o=this.calcularNascerSol(a,i,t),e=this.calcularPorSol(a,i,t),n=(e.getTime()-o.getTime())/(1e3*60*60),l=24-n,r=n/12,c=l/12,s=[],u=a.getDay(),g=["Sol","Lua","Marte","Mercúrio","Júpiter","Vênus","Saturno"][u];let S=this.ORDEM_PLANETAS_HORAS.indexOf(g);for(let h=0;h<12;h++){const _=new Date(o.getTime()+h*r*60*60*1e3),m=new Date(o.getTime()+(h+1)*r*60*60*1e3);s.push({numero:h+1,periodo:"dia",planeta:this.ORDEM_PLANETAS_HORAS[S],inicio:_,fim:m,duracao:r}),S=(S+1)%7}for(let h=0;h<12;h++){const _=new Date(e.getTime()+h*c*60*60*1e3),m=new Date(e.getTime()+(h+1)*c*60*60*1e3);s.push({numero:h+13,periodo:"noite",planeta:this.ORDEM_PLANETAS_HORAS[S],inicio:_,fim:m,duracao:c}),S=(S+1)%7}return s},calcularNascerSol:function(a,i,t){const o=this.calcularPosicaoSol(a),e=Math.asin(Math.sin(this.grausParaRadianos(23.45))*Math.sin(this.grausParaRadianos(o.longitude))),n=Math.acos(-Math.tan(this.grausParaRadianos(i))*Math.tan(e)),l=12-this.radianosParaGraus(n)/15,r=new Date(a);return r.setHours(Math.floor(l),l%1*60,0,0),r},calcularPorSol:function(a,i,t){const o=this.calcularPosicaoSol(a),e=Math.asin(Math.sin(this.grausParaRadianos(23.45))*Math.sin(this.grausParaRadianos(o.longitude))),n=Math.acos(-Math.tan(this.grausParaRadianos(i))*Math.tan(e)),l=12+this.radianosParaGraus(n)/15,r=new Date(a);return r.setHours(Math.floor(l),l%1*60,0,0),r},calcularFaseLunar:function(a){const i=this.calcularPosicaoSol(a);let o=this.calcularPosicaoLua(a).longitude-i.longitude;o=this.normalizarAngulo(o);let e,n=(1+Math.cos(this.grausParaRadianos(o)))/2;return o<45||o>315?e="Lua Nova":o>=45&&o<135?e="Lua Crescente":o>=135&&o<225?e="Lua Cheia":e="Lua Minguante",{fase:e,elongacao:o,iluminacao:n*100,simbolo:this.obterSimboloFase(e)}},obterSimboloFase:function(a){return{"Lua Nova":"🌑","Lua Crescente":"🌓","Lua Cheia":"🌕","Lua Minguante":"🌗"}[a]||"🌙"},DIGNIDADES:{Sol:{domicilio:["Leão"],exaltacao:["Áries"],exilio:["Aquário"],queda:["Libra"]},Lua:{domicilio:["Câncer"],exaltacao:["Touro"],exilio:["Capricórnio"],queda:["Escorpião"]},Mercúrio:{domicilio:["Gêmeos","Virgem"],exaltacao:["Virgem"],exilio:["Sagitário","Peixes"],queda:["Peixes"]},Vênus:{domicilio:["Touro","Libra"],exaltacao:["Peixes"],exilio:["Escorpião","Áries"],queda:["Virgem"]},Marte:{domicilio:["Áries","Escorpião"],exaltacao:["Capricórnio"],exilio:["Libra","Touro"],queda:["Câncer"]},Júpiter:{domicilio:["Sagitário","Peixes"],exaltacao:["Câncer"],exilio:["Gêmeos","Virgem"],queda:["Capricórnio"]},Saturno:{domicilio:["Capricórnio","Aquário"],exaltacao:["Libra"],exilio:["Câncer","Leão"],queda:["Áries"]}},calcularDignidade:function(a,i){const t=this.DIGNIDADES[a];return t?t.domicilio.includes(i)?"domicílio":t.exaltacao.includes(i)?"exaltação":t.exilio.includes(i)?"exílio":t.queda.includes(i)?"queda":"peregrino":"neutro"},calcularProximosEclipses:function(a,i=10){const t=[],o=new Date(a),e=6585.32;return[{data:new Date("2024-04-08"),tipo:"solar",duracao:4.5},{data:new Date("2024-09-18"),tipo:"lunar",duracao:1.3},{data:new Date("2025-03-29"),tipo:"solar",duracao:2.1},{data:new Date("2025-09-07"),tipo:"lunar",duracao:1.8}].forEach(l=>{let r=new Date(l.data),c=0;for(;c<i&&r<new Date(o.getTime()+31536e7);)r>o&&(t.push({data:new Date(r),tipo:l.tipo,duracao:l.duracao,visibilidade:this.calcularVisibilidadeEclipse(r,l.tipo)}),c++),r=new Date(r.getTime()+e*24*60*60*1e3)}),t.sort((l,r)=>l.data-r.data).slice(0,i)},calcularVisibilidadeEclipse:function(a,i){const t=["América do Norte","América do Sul","Europa","África","Ásia","Oceania"],o=[],e=Math.floor(Math.random()*4)+1;for(let n=0;n<e;n++){const l=t[Math.floor(Math.random()*t.length)];o.includes(l)||o.push(l)}return o},calcularEfemeridesCompletas:function(a,i=-23.5505,t=-46.6333){const o={data:a,diaJuliano:this.calcularDiaJuliano(a),coordenadas:{latitude:i,longitude:t},posicoesPlanetarias:{},aspectos:[],faseLunar:{},horasPlanetarias:[],dignidades:{},proximosEclipses:[]};return o.posicoesPlanetarias=this.calcularTodasPosicoes(a),o.aspectos=this.calcularAspectos(o.posicoesPlanetarias),o.faseLunar=this.calcularFaseLunar(a),o.horasPlanetarias=this.calcularHorasPlanetarias(a,i,t),Object.entries(o.posicoesPlanetarias).forEach(([e,n])=>{this.DIGNIDADES[e]&&(o.dignidades[e]=this.calcularDignidade(e,n.signo))}),o.proximosEclipses=this.calcularProximosEclipses(a),o},formatarPosicao:function(a){const i=Math.floor(a.grauNoSigno),t=Math.floor((a.grauNoSigno-i)*60),o=Math.floor(((a.grauNoSigno-i)*60-t)*60);return`${a.simbolo} ${a.signo} ${i}°${t}'${o}"`},obterHoraPlanetariaAtual:function(a,i,t){const o=this.calcularHorasPlanetarias(a,i,t),e=a.getTime();for(let n of o)if(e>=n.inicio.getTime()&&e<n.fim.getTime())return n;return null},estaRetrogrado:function(a,i){const t={Mercúrio:[80,88,116],Vênus:[40],Marte:[72],Júpiter:[120],Saturno:[140],Urano:[155],Netuno:[160],Plutão:[160]};if(!t[a])return!1;const o=Math.floor((i.getTime()-new Date(i.getFullYear(),0,1).getTime())/(24*60*60*1e3));return t[a].some(e=>Math.abs(o-e)<20)}};typeof window<"u"&&(window.EfemeridesCompletas=x);typeof N<"u"&&N.exports&&(N.exports=x)});export default M();
